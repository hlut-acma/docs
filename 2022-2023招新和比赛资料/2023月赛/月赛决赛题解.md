# 2022 月赛决赛题解
## 谢罪环节

这一次月赛出现了非常多的问题，严重影响了公平性，对冲在前面开题的同学非常不友好

出锅的主要原因有两个：

- 一是OJ的存题机制出现了问题，赛前更新的题面在赛时又还原回去了，本来削弱的拿来做签到的A题题面上给出数据从$5e3$超级加倍变成了$1e18$（实际上的数据没有改变），等差数列那道题目关键的保证有解的描述也删掉了。
- 二是验题时的管理混乱，修改的题目验题人是指出问题的人，导致了休闲游戏题目出现了错题

新生赛上我们的难度分配将会更加合理，同时我们也将会采用只有一个人拥有权限改题的方式保证题目的正确性，并且我们接下来的题面将会有更多人参与验证。

通过这次出锅总结出的经验，我们有信心可以保证新生赛初赛和决赛的顺利开展与公平。



## Problem A

~~打表，答案的循环节为60，具体请参考皮萨诺周期。~~

询问的n满足$n\le 5000$ ，那么我们可以预处理斐波那契数列的前5000项，然后输入哪一项就输出对应的结果

或者，对于每一次询问，我们都可以跑一次暴力，也可以通过





## Problem B

- 直接模拟即可
- 也可以用 map<int, string>，string s[60]，建立数字与字符串的映射即可



## Problem C

可以注意到，表盘一圈就是360°并且我们可以得出一分钟里面有c秒，那b分钟里面有b*c秒，相当于一小时里面有b*c秒，同理a小时里有a*b*c秒。对于每一个题目的输入的时间，我们都能算出其对应的描述，我们设为x。同时我们要求指针的度数设为y，这样我们就用等比例得出一个等式。
秒针：z / c
分针：( y + z / c ) / b
时针：( x + ( y + z / c ) / b ) / a



## Problem D

$$
对于这n个数,我们假定包含他们的等差数列的公差为d,那么对1 \leq i \leq n- 1,都有a_{i+1}=a_i+d\cdot m_i,m_i为正整数。那么显然
$$

$$
\sum{m_i}+1就是我们要求的答案，要使\sum{m_i}+1最小，那么d就要尽可能大。我们由a_{i+1}=a_i+d\cdot m_i可得a_{i+1}-a_i=d\cdot m_i
$$

$$
我们设D_i = a_{i+1}-a_i,可得D_i=d\cdot m_i,即d_{max}=gcd(D_1,D_2,...,D_{n-1})。注意题目中的公差d可以为 0，可能需要特判。
$$





## Problem E

卡常+卡精度。

如果用平方数比较 精度应设置到1e-12。



## Problem F

这道题目可以将凹槽形象成一个一维数组，假设这个一维数组叫*a[ ]*，那么*a[ i ]*表示是否存在有一种方案可以铺满宽度为 **i** 的凹槽， 所以遍历所有矩形，并且遍历a[ ]数组，假设矩形的长和宽分别为 **a**  , **b** 只要存在a[ i ]=1 并且满足 **a,b**的条件分别符合能够塞进上封顶的正方形凹槽中的时候，*a[i+a]或者a[i+b]*就可以赋值为1 那么最后检查一下a[m]是否为1，如果为1，则yes。否则no。



## Problem G

一、纯循环小数的化法，如：0.ab（ab循环）=（ab/99），最后化简。举例如下：

0.3（3循环）=3/9=1/3；

0.7（7循环）=7/9；

0.81（81循环）=81/99=9/11；

1.206（206循环）=1205/999。

 

二、混循环小数的化法，如：0.abc（bc循环）=（abc－a）/990，最后化简。举例如下：

0.51（1循环）=（51－5）/90=46/90=23/45；

0.2954（54循环）=（2954－29）/9900=13/44；

1.4189（189循环）=1 +（4189－4）/9990=14175/9990=105/74

 

三、循环小数转化0.9....9循环化为分数是9/9=1 。



## Problem H

注意到时间较长，人数较少，时间点只有十个，直接对时间点进行排序，将其分为九个时间段，再对每个时间段计算即可，可以使用任意排序方式，冒泡选择都能过。比较好的方法可以使用位运算进行优化。



## Problem I

题意：求满足条件x+y+z<=n的有序正整数对(x,y,z)的个数

 

方法一：考虑y+z<=m,（y,z为正整数）则有m*(m-1)/2种方案。

​       当x=1时，y+z<=n-1,有(n-1)*(n-2)/2种;

​       当x=2时，y+z<=n-2,有(n-2)*(n-3)/2种;

​       ……

​       当x=n-2时，y+z<=2,有1种。

​       将这些方案全加起来，化简公式可得总方案数: n*(n-1)*(n-2)/6。

​       复杂度O(1)

 

方法二: 考虑递推+隔板法。

​       令x+y+z+k=n,3<=n-k<=n,则向n-k-1个空插2个位置。

​       令x=n-k-1,2<=x<=n-1;

​       则答案                               

​       复杂度O(n)



## Problem J

### 题意

  给定一个环形数组，执行多次操作，每次可以*将一个数-1* **或者** *将两个相邻的数字-1*，然后为0的数踢出环形数组，求出最小操作次数

### 方法

  尽可能使用*将两个相邻的数字-1*的操作，且每次保证其中一个数字是当前环形数组中最大的那个数，这样答案分成两周情况：

- 设最大的那个数值为$MAX$，环形数组的总和为$SUM$

- 1. 若$MAX \ge SUM-MAX$，即最大的数比其它数加起来还要大，那么$ANS=MAX$

- 2. 若$MAX < SUM-MAX$，即$2 \times MAX \leq SUM$，我们会发现此时一定会存在两个数，那么我们每次采取当前最大数与相邻的数-1的操作，对于每次操作: $MAX-=1，SUM-=2$，删除之后仍保证了$2 \times MAX^{'} \leq SUM^{'}$（1,1,1是唯一的例外，想想为什么？），那么每次我们就都保证了$SUM-=2$，所以$ANS=SUM/2+SUM%2$

  

## Problem K

显然，对于一个任意的数组，你可以通过选择操作的顺序使得他们在操作后有序，所以每一个元素最多操作一次，

所以，我们需要找到哪些元素不需要操作。可以发现，放前或者放后剩下的必须是已排序数组的子串，所以我们需要

找到这个最长的子串，用数组的长度一减，升序和降序比较取最小值即为答案。（本质找到已排序数组的最长子串满足为原数组子序列）。



